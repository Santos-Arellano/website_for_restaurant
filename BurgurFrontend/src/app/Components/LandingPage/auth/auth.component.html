<div class="auth-container">
  <div class="auth-card">
    <div class="auth-header">
      <h2>{{ isLoginMode ? 'Iniciar Sesión' : 'Registrarse' }}</h2>
      <p>{{ isLoginMode ? 'Bienvenido de vuelta' : 'Únete a nuestra familia' }}</p>
    </div>

    <!-- Mensaje de error -->
    <div class="error-message" *ngIf="errorMessage">
      <i class="fas fa-exclamation-circle"></i>
      {{ errorMessage }}
    </div>

    <!-- Formulario de Login -->
    <form *ngIf="isLoginMode" (ngSubmit)="onLogin()" class="auth-form">
      <div class="form-group">
        <label for="loginEmail">Correo Electrónico</label>
        <input
          type="email"
          id="loginEmail"
          [(ngModel)]="loginForm.correo"
          name="loginEmail"
          placeholder="tu@email.com"
          autocomplete="email"
          required
          [disabled]="isLoading"
        >
      </div>

      <div class="form-group">
        <label for="loginPassword">Contraseña</label>
        <input
          type="password"
          id="loginPassword"
          [(ngModel)]="loginForm.contrasena"
          name="loginPassword"
          placeholder="Tu contraseña"
          autocomplete="current-password"
          required
          [disabled]="isLoading"
        >
      </div>

      <button type="submit" class="auth-btn primary" [disabled]="isLoading">
        <span *ngIf="!isLoading">Iniciar Sesión</span>
        <span *ngIf="isLoading">
          <i class="fas fa-spinner fa-spin"></i> Iniciando...
        </span>
      </button>
    </form>

    <!-- Formulario de Registro -->
    <form *ngIf="!isLoginMode" (ngSubmit)="onRegister()" class="auth-form">
      <div class="form-row">
        <div class="form-group">
          <label for="registerNombre">Nombre</label>
          <input
            type="text"
            id="registerNombre"
            [(ngModel)]="registroForm.nombre"
            name="registerNombre"
            placeholder="Tu nombre"
            autocomplete="given-name"
            required
            [disabled]="isLoading"
          >
        </div>

        <div class="form-group">
          <label for="registerApellido">Apellido</label>
          <input
            type="text"
            id="registerApellido"
            [(ngModel)]="registroForm.apellido"
            name="registerApellido"
            placeholder="Tu apellido"
            autocomplete="family-name"
            required
            [disabled]="isLoading"
          >
        </div>
      </div>

      <div class="form-group">
        <label for="registerEmail">Correo Electrónico</label>
        <input
          type="email"
          id="registerEmail"
          [(ngModel)]="registroForm.correo"
          name="registerEmail"
          placeholder="tu@email.com"
          autocomplete="email"
          required
          [disabled]="isLoading"
        >
      </div>

      <div class="form-group">
        <label for="registerPassword">Contraseña</label>
        <input
          type="password"
          id="registerPassword"
          [(ngModel)]="registroForm.contrasena"
          name="registerPassword"
          placeholder="Mínimo 6 caracteres"
          autocomplete="new-password"
          required
          [disabled]="isLoading"
        >
      </div>

      <div class="form-group">
        <label for="registerConfirmPassword">Confirmar Contraseña</label>
        <input
          type="password"
          id="registerConfirmPassword"
          [(ngModel)]="registroForm.confirmPassword"
          name="registerConfirmPassword"
          placeholder="Repite tu contraseña"
          autocomplete="new-password"
          required
          [disabled]="isLoading"
        >
      </div>

      <div class="form-group">
        <label for="registerTelefono">Teléfono</label>
        <input
          type="tel"
          id="registerTelefono"
          [(ngModel)]="registroForm.telefono"
          name="registerTelefono"
          placeholder="Tu número de teléfono"
          autocomplete="tel"
          required
          [disabled]="isLoading"
        >
      </div>

      <div class="form-group">
        <label for="registerDireccion">Dirección</label>
        <input
          type="text"
          id="registerDireccion"
          [(ngModel)]="registroForm.direccion"
          name="registerDireccion"
          placeholder="Tu dirección de entrega"
          autocomplete="street-address"
          required
          [disabled]="isLoading"
        >
      </div>

      <button type="submit" class="auth-btn primary" [disabled]="isLoading">
        <span *ngIf="!isLoading">Registrarse</span>
        <span *ngIf="isLoading">
          <i class="fas fa-spinner fa-spin"></i> Registrando...
        </span>
      </button>
    </form>

    <!-- Toggle entre Login y Registro -->
    <div class="auth-toggle">
      <p *ngIf="isLoginMode">
        ¿No tienes cuenta? 
        <button type="button" class="toggle-btn" (click)="toggleMode()">
          Regístrate aquí
        </button>
      </p>
      <p *ngIf="!isLoginMode">
        ¿Ya tienes cuenta? 
        <button type="button" class="toggle-btn" (click)="toggleMode()">
          Inicia sesión aquí
        </button>
      </p>
    </div>

    <!-- Botón para volver al inicio -->
    <div class="back-to-home">
      <a routerLink="/" class="back-btn">
        <i class="fas fa-arrow-left"></i>
        Volver al inicio
      </a>
    </div>
  </div>
</div>