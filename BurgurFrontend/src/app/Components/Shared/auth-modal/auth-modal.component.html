<div class="auth-modal" [class.active]="isVisible" (click)="onClose()">
  <div class="auth-modal-content" (click)="stopPropagation($event)">
    <div class="auth-modal-header">
      <button class="auth-modal-close" (click)="onClose()" type="button">&times;</button>
    </div>
    
    <div class="auth-container">
      <div class="auth-header">
        <div class="auth-logo">
          <i class="fas fa-user"></i>
        </div>
        <h1 class="auth-title">{{ mode === 'login' ? 'Iniciar Sesión' : 'Crear Cuenta' }}</h1>
        <p class="auth-subtitle">
          {{ mode === 'login' ? 'Accede a tu cuenta de BurGur' : 'Únete a la familia BurGur' }}
        </p>
      </div>
      
      <form class="auth-form" (ngSubmit)="onSubmit()" #authForm="ngForm">
        <!-- Register fields -->
        <div class="form-group" *ngIf="mode === 'register'">
          <label for="firstName">Nombre</label>
          <input 
            type="text" 
            id="firstName" 
            name="firstName" 
            [(ngModel)]="formData.firstName"
            placeholder="Tu nombre" 
            [class.error]="errors.firstName"
            required>
          <div class="error-message" [class.show]="errors.firstName">{{ errors.firstName }}</div>
        </div>

        <div class="form-group" *ngIf="mode === 'register'">
          <label for="lastName">Apellido</label>
          <input 
            type="text" 
            id="lastName" 
            name="lastName" 
            [(ngModel)]="formData.lastName"
            placeholder="Tu apellido" 
            [class.error]="errors.lastName"
            required>
          <div class="error-message" [class.show]="errors.lastName">{{ errors.lastName }}</div>
        </div>

        <div class="form-group" *ngIf="mode === 'register'">
          <label for="phone">Teléfono</label>
          <input 
            type="tel" 
            id="phone" 
            name="phone" 
            [(ngModel)]="formData.phone"
            placeholder="+57 300 123 4567" 
            [class.error]="errors.phone"
            required>
          <div class="error-message" [class.show]="errors.phone">{{ errors.phone }}</div>
        </div>
        
        <!-- Email field -->
        <div class="form-group">
          <label for="email">Correo Electrónico</label>
          <input 
            type="email" 
            id="email" 
            name="email" 
            [(ngModel)]="formData.email"
            placeholder="tu@ejemplo.com" 
            [class.error]="errors.email"
            required>
          <div class="error-message" [class.show]="errors.email">{{ errors.email }}</div>
        </div>
        
        <!-- Password field -->
        <div class="form-group">
          <label for="password">Contraseña</label>
          <input 
            type="password" 
            id="password" 
            name="password" 
            [(ngModel)]="formData.password"
            placeholder="Tu contraseña" 
            [class.error]="errors.password"
            required>
          <div class="error-message" [class.show]="errors.password">{{ errors.password }}</div>
        </div>

        <!-- Confirm password field for register -->
        <div class="form-group" *ngIf="mode === 'register'">
          <label for="confirmPassword">Confirmar Contraseña</label>
          <input 
            type="password" 
            id="confirmPassword" 
            name="confirmPassword" 
            [(ngModel)]="formData.confirmPassword"
            placeholder="Confirma tu contraseña" 
            [class.error]="errors.confirmPassword"
            required>
          <div class="error-message" [class.show]="errors.confirmPassword">{{ errors.confirmPassword }}</div>
        </div>
        
        <button type="submit" class="btn-auth" [disabled]="isLoading">
          <span class="loading-spinner" *ngIf="isLoading"></span>
          <span>{{ mode === 'login' ? 'Iniciar Sesión' : 'Crear Cuenta' }}</span>
        </button>
      </form>
      
      <div class="auth-divider">
        <span>{{ mode === 'login' ? '¿No tienes cuenta?' : '¿Ya tienes cuenta?' }}</span>
      </div>
      
      <div class="auth-link">
        <a (click)="onSwitchMode()" style="cursor: pointer;">
          {{ mode === 'login' ? 'Crear cuenta nueva' : 'Iniciar sesión aquí' }}
        </a>
      </div>
    </div>
  </div>
</div>