<!-- Header -->
<header class="site-header">
    <div class="container header-container">
        <a routerLink="/" class="logo">
            <div class="logo-icon-wrapper">
                <img src="assets/images/Logo.png" alt="Burger Club Logo" class="logo-icon">
            </div>
            <span class="logo-text">BURGER CLUB</span>
        </a>

        <nav class="main-nav">
           <ul>
               <li><a routerLink="/">Inicio</a></li>
               <li><a routerLink="/menu">Menú</a></li>
               <li><a routerLink="/admin/dashboard" class="admin-nav">Dashboard</a></li>
               <li><a routerLink="/admin/products">Productos</a></li>
               <li><a routerLink="/admin/adicionales">Adicionales</a></li>
               <li><a routerLink="/admin/clientes">Clientes</a></li>
               <li><a routerLink="/admin/domiciliarios">Domiciliarios</a></li>
           </ul>
       </nav>
    </div>
</header>

<!-- Dashboard Main -->
<main class="dashboard-section">
    <div class="container">
        <!-- Header -->
        <div class="dashboard-header">
            <div class="header-content">
                <div class="title-section">
                    <h1 class="dashboard-title">Panel de Administración</h1>
                    <p class="dashboard-subtitle">Gestiona tu restaurante desde un solo lugar</p>
                </div>
                <div class="time-section">
                    <div class="current-time">
                        <i class="fas fa-clock"></i>
                        <span>{{currentTime}}</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Estadísticas principales -->
        <div class="stats-grid">
            <div class="stat-card productos">
                <i class="fas fa-hamburger stat-icon"></i>
                <div class="stat-number">{{dashboardStats.totalProductos}}</div>
                <div class="stat-label">Productos Totales</div>
            </div>

            <div class="stat-card clientes">
                <i class="fas fa-users stat-icon"></i>
                <div class="stat-number">{{dashboardStats.totalClientes}}</div>
                <div class="stat-label">Clientes Registrados</div>
            </div>

            <div class="stat-card adicionales">
                <i class="fas fa-plus-circle stat-icon"></i>
                <div class="stat-number">{{dashboardStats.totalAdicionales}}</div>
                <div class="stat-label">Adicionales Disponibles</div>
            </div>

            <div class="stat-card alertas">
                <i class="fas fa-exclamation-triangle stat-icon"></i>
                <div class="stat-number">{{dashboardStats.stockBajo}}</div>
                <div class="stat-label">Productos Stock Bajo</div>
            </div>
        </div>

        <!-- Advanced Statistics Component -->
        <app-admin-stats></app-admin-stats>

        <!-- Acciones rápidas -->
       <div class="quick-actions">
           <a routerLink="/admin/products" class="action-btn">
               <i class="fas fa-hamburger"></i>
               Gestionar Productos
           </a>
           
           <a routerLink="/admin/clientes" class="action-btn">
               <i class="fas fa-users"></i>
               Gestionar Clientes
           </a>
           
           <a routerLink="/admin/adicionales" class="action-btn">
               <i class="fas fa-plus-circle"></i>
               Gestionar Adicionales
           </a>
           
           <a routerLink="/admin/domiciliarios" class="action-btn">
               <i class="fas fa-motorcycle"></i>
               Gestionar Domiciliarios
           </a>
           
           <a href="#" class="action-btn" (click)="updateAdicionales()">
               <i class="fas fa-sync-alt"></i>
               Actualizar Relaciones
           </a>
       </div>

        <!-- Información del sistema -->
        <div class="system-info">
            <!-- Estado del Sistema -->
            <div class="info-section">
                <h3><i class="fas fa-server"></i> Estado del Sistema</h3>
                <div class="status-grid">
                    <div class="status-item">
                        <div class="status-indicator"></div>
                        <div class="status-label">Base de Datos</div>
                        <div class="status-value">Conectada</div>
                    </div>
                    
                    <div class="status-item">
                        <div class="status-indicator" [class.warning]="dashboardStats.stockBajo > 0"></div>
                        <div class="status-label">Inventario</div>
                        <div class="status-value">{{dashboardStats.stockBajo > 0 ? 'Atención Requerida' : 'Normal'}}</div>
                    </div>
                    
                    <div class="status-item">
                        <div class="status-indicator"></div>
                        <div class="status-label">Adicionales</div>
                        <div class="status-value">Sincronizados</div>
                    </div>
                </div>

                <button class="update-btn" (click)="updateAdicionales()" [disabled]="isUpdating">
                    <i class="fas fa-sync-alt" [class.fa-spin]="isUpdating"></i>
                    {{isUpdating ? 'Actualizando...' : 'Actualizar Relaciones Adicionales'}}
                </button>
            </div>

            <!-- Actividad Reciente -->
            <div class="info-section">
                <h3><i class="fas fa-clock"></i> Actividad del Sistema</h3>
                <div class="activity-list">
                    <div class="activity-item">
                        <div class="activity-icon success">
                            <i class="fas fa-check"></i>
                        </div>
                        <div class="activity-text">
                            Sistema iniciado correctamente con {{dashboardStats.totalProductos}} productos
                        </div>
                        <div class="activity-time">Inicio</div>
                    </div>
                    
                    <div class="activity-item" *ngIf="dashboardStats.stockBajo > 0">
                        <div class="activity-icon warning">
                            <i class="fas fa-exclamation-triangle"></i>
                        </div>
                        <div class="activity-text">
                            {{dashboardStats.stockBajo}} productos con stock bajo requieren atención
                        </div>
                        <div class="activity-time">Revisar</div>
                    </div>
                    
                    <div class="activity-item">
                        <div class="activity-icon info">
                            <i class="fas fa-users"></i>
                        </div>
                        <div class="activity-text">
                            {{dashboardStats.clientesActivos}} clientes activos registrados
                        </div>
                        <div class="activity-time">Total</div>
                    </div>

                    <div class="activity-item">
                        <div class="activity-icon success">
                            <i class="fas fa-plus-circle"></i>
                        </div>
                        <div class="activity-text">
                            {{dashboardStats.adicionalesActivos}} adicionales disponibles
                        </div>
                        <div class="activity-time">Activos</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</main>

<!-- Footer -->
<footer class="footer">
    <div class="container">
        <div class="footer-content">
            <div class="footer-section">
                <h3>Burger Club</h3>
                <p>Las mejores hamburguesas de la ciudad</p>
            </div>
            <div class="footer-section">
                <h4>Enlaces</h4>
                <ul>
                    <li><a href="/">Inicio</a></li>
                    <li><a href="/menu">Menú</a></li>
                    <li><a href="/contacto">Contacto</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h4>Síguenos</h4>
                <div class="social-links">
                    <a href="#" class="social-link"><i class="fab fa-facebook"></i></a>
                    <a href="#" class="social-link"><i class="fab fa-instagram"></i></a>
                    <a href="#" class="social-link"><i class="fab fa-twitter"></i></a>
                </div>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2024 Burger Club. Todos los derechos reservados.</p>
        </div>
    </div>
</footer>